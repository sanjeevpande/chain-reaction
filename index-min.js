$(document).ready(function(){var e;$("#start").on("click",function(){var t=parseInt($("#inputBox").val(),10);if(t<2||t>10){alert("Players can be max 10 and min 2");return}$(".inputContainer").addClass("hide");$(".container").removeClass("hide").addClass("show");$("body").css("background-color","#888830");var n=["red","green","blue","yellow","pink","brown","cyan","violet","indigo","orange"];var r="{";for(var i=0;i<t;i++){r+='"'+n[i]+'"'+":"+false+","}r+="}";r=r.replace(",}","}");e=$.parseJSON(r);e[Object.keys(e)[0]]=true;var s=5});var t=function(e){var t=true;if(e.find("span").length){var n=e.css("border-top-color"),r=e.find("span").css("background-color");if(n!==r){t=false}}return t},n=function(e){var t;var n=e.prev("li"),i=e.next("li"),s=e.parent("ul"),o=s.prev(),u=s.next(),a=e.index(),f=o.find("li").eq(a),l=u.find("li").eq(a),c=e.css("border-top-color");if(e.find(".ball").length===1){if(e[0]===$("ul:first").find("li:first")[0]||e[0]===$("ul:first").find("li:last")[0]||e[0]===$("ul:last").find("li:first")[0]||e[0]===$("ul:last").find("li:last")[0]){e.find("div").remove();r(e,n,c);r(e,i,c);r(e,f,c);r(e,l,c);n.find("span").css("background-color",c);i.find("span").css("background-color",c);f.find("span").css("background-color",c);l.find("span").css("background-color",c)}else{t="<span class='ball ball1'></span>";e.find("div").append(t)}}else if(e.find(".ball").length===2){if(e[0]===$("ul:first").find("li").eq(e.index())[0]||e[0]===$("ul:last").find("li").eq(e.index())[0]||e[0]===$("ul").find("li:first").eq(e.parent().index())[0]||e[0]===$("ul").find("li:last").eq(e.parent().index())[0]){e.find("div").remove();r(e,n,c);r(e,i,c);r(e,f,c);r(e,l,c);n.find("span").css("background-color",c);i.find("span").css("background-color",c);f.find("span").css("background-color",c);l.find("span").css("background-color",c)}else{t="<span class='ball ball2'></span>";e.find("div").append(t);e.find(".ball2").css("margin-left","20px");e.find(".ball2").css("margin-top","25px");e.find("div").addClass("rotateB")}}else if(e.find(".ball").length===3){e.find("div").remove();r(e,n,c);r(e,i,c);r(e,f,c);r(e,l,c);n.find("span").css("background-color",c);i.find("span").css("background-color",c);f.find("span").css("background-color",c);l.find("span").css("background-color",c)}else{t="<div><span class='ball'></span></div>";e.append(t)}},r=function(e,t,n){if(!t.length){return}if(t.find("span").length){if(t.find("span").length===1){if(e[0]===$("ul:first").find("li:first")[0]||e[0]===$("ul:first").find("li:last")[0]||e[0]===$("ul:last").find("li:first")[0]||e[0]===$("ul:last").find("li:last")[0]){t.find("span").css("background-color",n);t.trigger("myClick")}else{ball="<span class='ball ball1'></span>";t.find("span").parent().append(ball);if(t.find("span").length>1&&(t[0]===$("ul:first").find("li:first")[0]||t[0]===$("ul:first").find("li:last")[0]||t[0]===$("ul:last").find("li:first")[0]||t[0]===$("ul:last").find("li:last")[0])){t.find("span").css("background-color",n);t.trigger("myClick")}}}else if(t.find("span").length===2){if(e[0]===$("ul:first").find("li").eq(e.index())[0]||e[0]===$("ul:last").find("li").eq(e.index())[0]||e[0]===$("ul").find("li:first").eq(e.parent().index())[0]||e[0]===$("ul").find("li:last").eq(e.parent().index())[0]){t.find("span").css("background-color",n);t.trigger("myClick")}else{ball="<span class='ball ball2'></span>";t.find("div").addClass("rotateB");t.find("span").parent().append(ball);if(t.find("span").length>2&&(t[0]===$("ul:first").find("li").eq(t.index())[0]||t[0]===$("ul:last").find("li").eq(t.index())[0]||t[0]===$("ul").find("li:first").eq(t.parent().index())[0]||t[0]===$("ul").find("li:last").eq(t.parent().index())[0])){t.find("span").css("background-color",n);t.trigger("myClick")}}}else if(t.find("span").length===3){t.find("span").css("background-color",n);t.trigger("myClick")}}else{ball="<div><span class='ball'></span></div>";t.append(ball)}},i=0,s=function(t){var n=Object.keys(e);if(e[n[i]]){t.find(".ball").addClass(n[i]);if(i===n.length-1){i=-1}$("li").css("border-color",n[i+1]);for(player in e){e[player]=false}e[n[i+1]]=true;i++}};$("li").on("click",function(){var e=$(this);var r=t(e);if(!r){return}n(e);s(e)});$("li").on("myClick",function(){var e=$(this);var r=t(e);if(!r){return}n(e)})})